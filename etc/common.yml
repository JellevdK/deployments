---
# I want a password for vcap so that I can `sudo` during the compilation phase
- type: replace
  path: /resource_pools/name=vms/env?
  value:
    bosh:
      # c1oudc0w is a default password for vcap user
      # python -c "import crypt, getpass, pwd; print crypt.crypt('c1oudc0w', '\$6\$cunnie\$')"
      password: "$6$cunnie$GbaS32DMXiaAGYbD/wmNRgJqjHeXnUsXBfp3MgyYntmxIk9XOxM/K3aIKBCCnFGvyc3kCFn61VqatGUEHAr.x/"

# I don't want my jumpbox user to have auto-generated creds; I want MY creds
- type: replace
  path: /instance_groups/name=bosh/jobs/name=user_add/properties/users/name=jumpbox/public_key?
  value: ((jumpbox_user_public_key))

# I don't want auto-generated certificates -- I spent $100 for a wildcard
# certificate, and gosh-darn I plan to use it (*.nono.io)
- type: replace
  path: /cloud_provider/cert
  value:
    certificate: ((nono_io_crt))
    private_key: ((nono_io_key))
- type: replace
  path: /instance_groups/name=bosh/properties/director/ssl/key?
  value: ((nono_io_key))
- type: replace
  path: /instance_groups/name=bosh/properties/director/ssl/cert?
  value: ((nono_io_crt))

# 2017/12/05 attempt to get my GCE director working
# taken from a slack channel; slightly different than this PR
# <https://github.com/cloudfoundry/bosh-deployment/pull/144/>
- type: replace
  path: /variables/name=credhub_tls/options/alternative_names/-
  value: ((external_ip))

- type: replace
  path: /variables/name=credhub_tls/options/common_name
  value: ((external_ip))

- type: replace
  path: /instance_groups/name=bosh/jobs/name=credhub/properties/credhub/authentication/uaa/url
  value: "https://((external_ip)):8443"

- type: replace
  path: /instance_groups/name=bosh/properties/director/config_server/uaa/url
  value: "https://((external_ip)):8443"
