---
- type: replace
  path: /resource_pools/name=vms/stemcell?
  value:
    url: https://bosh.io/d/stemcells/bosh-aws-xen-hvm-ubuntu-trusty-go_agent?v=3312.15
    sha1: f5e78f61b8026377300db544e9d3ca0b89516af3

# Configure AWS sizes
- type: replace
  path: /resource_pools/name=vms/cloud_properties?
  value:
    instance_type: t2.small
    ephemeral_disk: {size: 20_000}
    availability_zone: ((az))

# I want a password for vcap so that I can `sudo` during the compilation phase
- type: replace
  path: /resource_pools/name=vms/env?
  value:
    bosh:
      # c1oudc0w is a default password for vcap user
      # python -c "import crypt, getpass, pwd; print crypt.crypt('c1oudc0w', '\$6\$cunnie\$')"
      password: "$6$cunnie$GbaS32DMXiaAGYbD/wmNRgJqjHeXnUsXBfp3MgyYntmxIk9XOxM/K3aIKBCCnFGvyc3kCFn61VqatGUEHAr.x/"

- type: replace
  path: /disk_pools/name=disks/disk_size?
  value: 20_000

# I don't want my jumpbox user to have auto-generated creds; I want MY creds
- type: replace
  path: /instance_groups/name=bosh/jobs/name=user_add/properties/users/name=jumpbox/public_key?
  value: ((aws_jumpbox_user_public_key))
